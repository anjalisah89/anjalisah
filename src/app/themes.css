/* -------------------------------------------------------------------------- */
/* Theme Variables */
/* -------------------------------------------------------------------------- */

/* Dark Theme (Default) - GitHub Primer-like variables */
:root {
    /* === Color Palette === */
    --button-danger-bgColor-active: #d03533;
    --button-danger-fgColor-rest: #fa5e55;
    --button-danger-iconColor-rest: #fa5e55;
    --button-primary-bgColor-active: #2e9a40;
    --button-primary-bgColor-disabled: #105823;
    --button-primary-bgColor-hover: #29903b;
    --button-primary-borderColor-disabled: #105823;
    --color-ansi-cyan: #39c5cf;
    --color-ansi-cyan-bright: #56d4dd;
    --control-checked-bgColor-active: #3685f3;
    --control-checked-bgColor-hover: #2a7aef;
    --fgColor-accent: #4493f8;
    /* Accent foreground/link color */
    --reactionButton-selected-bgColor-hover: #3a8cfd5c;
    --avatar-shadow: 0px 0px 0px 2px #0d1117;
    --avatarStack-fade-bgColor-default: #3d444d;
    --avatarStack-fade-bgColor-muted: #2a313c;

    /* Background Colors */
    --bgColor-accent-emphasis: #1f6feb;
    --bgColor-accent-muted: #388bfd1a;
    --bgColor-attention-emphasis: #9e6a03;
    --bgColor-attention-muted: #bb800926;
    --bgColor-danger-emphasis: #da3633;
    --bgColor-danger-muted: #f851491a;
    --bgColor-default: #010409;
    /* Page background */
    --bgColor-disabled: #212830;
    --bgColor-done-emphasis: #8957e5;
    --bgColor-done-muted: #ab7df826;
    --bgColor-emphasis: #3d444d;
    /* Used for card backgrounds, elevated elements */
    --bgColor-muted: #0d1117;
    /* Used for sidebars, headers, insets */
    --bgColor-neutral-emphasis: #57606a;
    --bgColor-neutral-muted: #656c7633;
    --bgColor-severe-emphasis: #bd561d;
    --bgColor-severe-muted: #db6d281a;
    --bgColor-sponsors-emphasis: #bf4b8a;
    --bgColor-sponsors-muted: #db61a21a;
    --bgColor-success-emphasis: #238636;
    --bgColor-success-muted: #2ea04326;
    --bgColor-transparent: #00000000;

    /* Border Colors */
    --borderColor-accent-emphasis: #1f6feb;
    --borderColor-accent-muted: #388bfd66;
    --borderColor-attention-emphasis: #9e6a03;
    --borderColor-attention-muted: #bb800966;
    --borderColor-danger-emphasis: #da3633;
    --borderColor-danger-muted: #f8514966;
    --borderColor-default: #3d444d;
    /* Primary border color */
    --borderColor-disabled: #656c761a;
    --borderColor-done-emphasis: #8957e5;
    --borderColor-done-muted: #ab7df866;
    --borderColor-emphasis: #656c76;
    --borderColor-severe-emphasis: #bd561d;
    --borderColor-severe-muted: #db6d2866;

    /* === General Styling Mappings (Inferred/Added for compatibility) === */
    --fgColor-default: #c9d1d9;
    /* Default text color */
    --fgColor-muted: #8b949e;
    /* Muted/secondary text color */
    --fgColor-onEmphasis: #ffffff;
    /* Text on dark, vibrant backgrounds (e.g., primary buttons) */

    /* Alias for common usage */
    --bg-default: var(--bgColor-default);
    --bg-inset: var(--bgColor-muted);
    /* For sidebars, headers if they are inset */
    --bg-muted: var(--bgColor-muted);
    --bg-gradient-in: #0b0f14;
    /* Darkened version for the new theme */
    --bg-gradient-out: rgba(11, 15, 20, 0);

    --text-primary: var(--fgColor-default);
    --text-secondary: var(--fgColor-muted);
    --text-link: var(--fgColor-accent);
    --text-preformat-fg: var(--fgColor-default);
    --text-preformat-bg: var(--bgColor-emphasis);
    /* Or var(--bgColor-default) with a border */
    --error-foreground: var(--button-danger-fgColor-rest);

    /* Icons */
    --icon-primary: var(--fgColor-default);
    --icon-secondary: var(--fgColor-accent);

    /* Buttons */
    --border-default: var(--borderColor-default);
    --border-accent: var(--borderColor-accent-emphasis);
    --border-muted: var(--borderColor-accent-muted);

    /* === Button Specific Mappings === */
    /* Primary Button */
    --button-primary-bgColor-rest: var(--bgColor-success-emphasis);
    --button-primary-fgColor-rest: var(--fgColor-onEmphasis);
    --button-primary-borderColor-rest: var(--bgColor-success-emphasis);
    --button-primary-borderColor-hover: var(--button-primary-bgColor-hover);
    --button-primary-borderColor-active: var(--button-primary-bgColor-active);
    --button-primary-fgColor-disabled: var(--fgColor-muted);

    /* Secondary Button */
    --button-secondary-bgColor-rest: var(--bgColor-neutral-emphasis);
    --button-secondary-fgColor-rest: var(--fgColor-default);
    --button-secondary-borderColor-rest: var(--borderColor-default);
    --button-secondary-bgColor-hover: var(--bgColor-emphasis);
    --button-secondary-borderColor-hover: var(--borderColor-emphasis);
    --button-secondary-bgColor-active: var(--bgColor-default);
    --button-secondary-borderColor-active: var(--borderColor-emphasis);
    --button-secondary-bgColor-disabled: var(--bgColor-disabled);
    --button-secondary-fgColor-disabled: var(--fgColor-muted);
    --button-secondary-borderColor-disabled: var(--borderColor-disabled);

    /* Danger Button */
    --button-danger-bgColor-rest: var(--bgColor-danger-emphasis);
    --button-danger-fgColor-override-for-dark-bg: var(--fgColor-onEmphasis);
    /* White text for dark red button */
    --button-danger-borderColor-rest: var(--bgColor-danger-emphasis);
    /* Using emphasis color for consistency if the above line is removed */
    --button-danger-bgColor-hover: var(--bgColor-danger-emphasis);
    --button-danger-borderColor-hover: var(--button-danger-bgColor-hover);
    --button-danger-bgColor-active: var(--button-danger-bgColor-active);
    /* Using the specific active color */
    --button-danger-fgColor-active: var(--fgColor-onEmphasis);
    --button-danger-fgColor-disabled: var(--fgColor-muted);
    --button-danger-borderColor-disabled: var(--borderColor-danger-muted);

    /* Outline Button */
    --button-outline-fgColor-rest: var(--fgColor-accent);
    --button-outline-borderColor-rest: var(--fgColor-accent);
    --button-outline-bgColor-hover: var(--bgColor-accent-muted);
    --button-outline-fgColor-hover: var(--fgColor-accent);
    --button-outline-borderColor-hover: var(--fgColor-accent);
    --button-outline-fgColor-disabled: var(--fgColor-muted);
    --button-outline-borderColor-disabled: var(--fgColor-muted);

    /* Inputs */
    --input-bg: var(--bgColor-muted);
    --input-fg: var(--fgColor-default);
    --input-border: var(--borderColor-default);
    --input-placeholder-fg: var(--fgColor-muted);
    --input-focus-border: var(--borderColor-accent-emphasis);

    /* UI Elements */
    --sidebar-bg: var(--bgColor-muted);
    --sidebar-fg: var(--fgColor-default);
    --sidebar-border: var(--borderColor-default);

    --header-bg: var(--bgColor-muted);
    --header-fg: var(--fgColor-default);
    --header-border: var(--borderColor-default);

    /* Focus Ring */
    --focus-ring-color: var(--fgColor-accent);
    /* Color for focus outlines */
}

/* -------------------------------------------------------------------------- */
/* Light Theme */
/* -------------------------------------------------------------------------- */
html.light {
    /* Backgrounds */
    --bg-default: #F5F5F5;
    /* VSCode Light: background */
    --bg-inset: #EDEDF5;
    --bg-muted: #F2F8FC;
    --bg-gradient-in: #E0E0E0;
    --bg-gradient-out: rgba(240, 240, 240, 0);

    /* Text Colors */
    --text-primary: #54494B;
    --text-secondary: #6D705B;
    --text-link: #705697;
    --text-preformat-fg: #54494B;
    --text-preformat-bg: #e0e0e0;
    --error-foreground: #f1897f;

    /* Icon Colors */
    --icon-primary: #705697;
    --icon-secondary: #9769dc;

    /* Border Colors */
    --border-default: #adafb7;
    /* VSCode Light: activeBorder */
    --border-accent: #9769dc;
    /* VSCode Light: focusBorder */
    --border-muted: rgba(151, 105, 220, 0.4);

    /* === Button Specific Variables === */
    /* Primary Button */
    --button-primary-bgColor-rest: #705697;
    /* VSCode Light: button background */
    --button-primary-fgColor-rest: #FFFFFF;
    --button-primary-borderColor-rest: transparent;
    --button-primary-bgColor-hover: #5e4a81;
    /* Darken primary bg */
    --button-primary-bgColor-active: #524071;
    --button-primary-bgColor-disabled: #c4b7d7;
    --button-primary-fgColor-disabled: #F5F5F5;
    --button-primary-borderColor-disabled: #adafb7;

    /* Secondary Button */
    --button-secondary-bgColor-rest: #e0e0e0;
    /* VSCode Light: hoverBackground */
    --button-secondary-fgColor-rest: #54494B;
    --button-secondary-borderColor-rest: var(--border-default);
    --button-secondary-bgColor-hover: #c4d9b1;
    --button-secondary-borderColor-hover: var(--border-default);
    --button-secondary-bgColor-active: var(--bg-default);
    --button-secondary-borderColor-active: var(--border-default);
    --button-secondary-bgColor-disabled: var(--bg-muted);
    --button-secondary-fgColor-disabled: var(--text-secondary);
    --button-secondary-borderColor-disabled: var(--border-muted);

    /* Danger Button */
    --button-danger-fgColor-rest: #FFFFFF;
    --button-danger-bgColor-rest: #f1897f;
    --button-danger-bgColor-hover: #d96d64;
    --button-danger-borderColor-rest: var(--button-danger-bgColor-rest);
    --button-danger-borderColor-hover: var(--button-danger-bgColor-hover);
    --button-danger-bgColor-active: #c05850;
    --button-danger-fgColor-active: #FFFFFF;
    --button-danger-fgColor-disabled: var(--text-secondary);
    --button-danger-borderColor-disabled: var(--border-muted);

    /* Outline Button */
    --button-outline-fgColor-rest: var(--text-link);
    --button-outline-borderColor-rest: var(--text-link);
    --button-outline-bgColor-hover: rgba(112, 86, 151, 0.1);
    --button-outline-fgColor-hover: #5e4a81;
    --button-outline-borderColor-hover: #5e4a81;
    --button-outline-fgColor-disabled: rgba(112, 86, 151, 0.5);
    --button-outline-borderColor-disabled: rgba(112, 86, 151, 0.5);


    /* Inputs */
    --input-bg: #F5F5F5;
    --input-fg: #54494B;
    --input-border: #adafb7;
    --input-placeholder-fg: #A6B39B;
    --input-focus-border: var(--border-accent);

    /* Sidebar */
    --sidebar-bg: #F2F2F2;
    --sidebar-fg: var(--icon-primary);
    --sidebar-border: #e0e0e0;

    /* Header */
    --header-bg: #c4b7d7;
    --header-fg: #54494B;
    --header-border: #adafb7;

    /* Special Backgrounds (for utility classes or specific components) */
    --bg-accent-muted: rgba(151, 105, 220, 0.1);
    --bg-danger-muted: rgba(241, 137, 127, 0.1);
    --bg-success-muted: rgba(116, 147, 81, 0.15);

    /* Focus Ring */
    --focus-ring-color: var(--border-accent);
}
